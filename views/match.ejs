<head>
  <title>Match Page</title>
  <link rel="stylesheet" href="/index.css" />
  <style>
    .red {
      background-color: rgb(255, 177, 177);
    }

    .blue {
      background-color: rgb(177, 177, 255);
    }
  </style>
</head>

<body>
  <%- include('header'); -%>

  <h3>Match Page</h3>
  <a href="/team/<%=teamNumber%>">Back to <%=teamNumber%> Main Page</a>
  <h4>Match Code: <%=matchKey%></h4>

  <div id="teams-container">
    <table>
      <tr>
        <% matchData.alliances.red.team_keys.forEach((key, i)=> { %>
        <td class="team red" style="vertical-align: top">
          <h4 style="color: black">Red <%=i + 1%></h4>
          <p>
            <a
              style="color: black"
              href="https://www.thebluealliance.com/team/<%=matchData.alliances.red.team_keys[i].substring(3)%>"
              target="_blank"
            >
              <%=matchData.alliances.red.team_keys[i]%>
            </a>
          </p>
        </td>
        <% }); %>
      </tr>
      <tr>
        <% matchData.alliances.blue.team_keys.forEach((key, i)=> { %>
        <td class="team blue" style="vertical-align: top">
          <h4 style="color: black">Blue <%=i + 1%></h4>
          <p>
            <a
              style="color: black"
              href="https://www.thebluealliance.com/team/<%=matchData.alliances.blue.team_keys[i].substring(3)%>"
              target="_blank"
            >
              <%=matchData.alliances.blue.team_keys[i]%>
            </a>
          </p>
        </td>
        <% }); %>
      </tr>
    </table>
  </div>

  <div id="match-stats">
    <h3>Scores</h3>
    <table>
      <tr>
        <th></th>
        <th>Red</th>
        <th>Blue</th>
      </tr>
      <tr>
        <td>Autonomous</td>
        <td><%=matchData.score_breakdown.red.autoPoints%></td>
        <td><%=matchData.score_breakdown.blue.autoPoints%></td>
      </tr>
      <tr>
        <td>Teleop</td>
        <td>
          <%=matchData.score_breakdown.red.teleopPoints-matchData.score_breakdown.red.endGameBargePoints%>
        </td>
        <td>
          <%=matchData.score_breakdown.blue.teleopPoints-matchData.score_breakdown.blue.endGameBargePoints%>
        </td>
      </tr>

      <tr>
        <td>Endgame</td>
        <td><%=matchData.score_breakdown.red.endGameBargePoints%></td>
        <td><%=matchData.score_breakdown.blue.endGameBargePoints%></td>
      </tr>
      <tr>
        <td><b>Total</b></td>
        <td><%=matchData.score_breakdown.red.totalPoints%></td>
        <td><%=matchData.score_breakdown.blue.totalPoints%></td>
      </tr>
			<tr>
				<td><i>Penalty</i></td>
				<td><i><%=matchData.score_breakdown.red.totalPoints-(matchData.score_breakdown.red.autoPoints+matchData.score_breakdown.red.teleopPoints)%></i></td>
				<td><i><%=matchData.score_breakdown.blue.totalPoints-(matchData.score_breakdown.blue.autoPoints+matchData.score_breakdown.blue.teleopPoints)%></i></td>
			</tr>
    </table>
  </div>

  <a href="/whiteboard/<%=matchKey%>/<%=teamNumber%>/autonomous">
    <button id="whiteboard-button">Open Whiteboard</button>
  </a>
</body>
